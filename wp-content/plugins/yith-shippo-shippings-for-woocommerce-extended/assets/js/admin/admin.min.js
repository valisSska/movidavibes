jQuery((function(e){e("#yith-bh-onboarding").length;e.fn.isNumeric=function(){var t=e(this).val();return"string"==typeof t&&(!isNaN(t)&&!isNaN(parseFloat(t)))},e.fn.scroll_to=function(){e("html,body").animate({scrollTop:e(this).offset().top-100},"slow")};var t={selectors:{wrapper:".yith-shippo-shipping-zones",option_row:".yith-plugin-fw-checkbox-array__row",options:".yith-plugin-fw-checkbox-array__row span",selectAll:".yith-shipping-zone-select-all"},triggerAllEvent:!0,init:function(){e(document).on("mouseout",t.selectors.wrapper+" "+t.selectors.options,this.toggleClasses),e(document).on("click",t.selectors.wrapper+" "+t.selectors.selectAll+" input",this.changeSelectAll),e(document).on("click",t.selectors.wrapper+" "+t.selectors.options,this.changeSpanOption),e(document).on("click",t.selectors.wrapper+" "+t.selectors.option_row+" input",this.changeOption),this.initCheckedOptions()},initCheckedOptions:function(){e(document).find(t.selectors.wrapper+" "+t.selectors.options).each((function(){var o=e(this).closest(t.selectors.option_row);o.find("input").is(":checked")?o.addClass("selected"):o.removeClass("selected")}))},rowHasUncheckedField:function(o){var n=o.find(t.selectors.options),i=!1;return n.each((function(){e(this).closest(t.selectors.option_row).find("input").is(":checked")||(i=!0)})),i},toggleSelectAll:function(e){var o=e.closest(t.selectors.wrapper),n=o.find(t.selectors.selectAll+" input"),i=!1;t.rowHasUncheckedField(o)&&(i=!0),t.triggerAllEvent=!1,i?n.is(":checked")&&n.trigger("click"):n.is(":checked")||n.trigger("click"),t.triggerAllEvent=!0},changeSelectAll:function(o){if(o.stopImmediatePropagation(),t.triggerAllEvent){var n=e(this).is(":checked");e(this).parents(t.selectors.wrapper).find(t.selectors.option_row).each((function(){var t=e(this).find("input");n?(t.attr("checked",!0),e(this).addClass("selected")):(t.attr("checked",!1),e(this).removeClass("selected"))}))}},changeSpanOption:function(t){e(this).prev("input").trigger("click")},changeOption:function(o){var n=e(this).parent();e(this).is(":checked")?(n.addClass("selected"),n.removeClass("deselected")):(n.removeClass("selected"),n.addClass("deselected")),t.toggleSelectAll(n)},toggleClasses:function(){var o=e(this).closest(t.selectors.option_row);o.hasClass("deselected")&&o.removeClass("deselected")}};e(document.body).on("yith-shipping-zone-field-init",(function(){t.init()})).trigger("yith-shipping-zone-field-init");var o=function(t){e(".yith-bh-onboarding-connect-cta").length>0&&(e(".yith-bh-onboarding-connect-cta").parents(".yith-bh-onboarding-tabs").find('li[data-tab="main"]').click(),e(".yith-bh-onboarding-connect-cta").hide());var o=t.detail.connected?{}:{yith_shippo_disconnect:"yes"};e.post(document.location.href,o).done((function(t){if(""!==t){var o=e("<div></div>").html(t).find("#yith-shippo-onboarding-button");e("#yith-shippo-onboarding-button").html(o.html())}}))},n=function(){var e=window.outerHeight/2+window.screenY-300,t=window.outerWidth/2+window.screenX-250;window.open(yith_shippo_admin_params.shippo_url,"Go Shippo","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=500, height=600, top="+e+", left="+t)};e(document).on("click",".yith-shippo-connect-account",(function(e){e.preventDefault(),n()})),e(document).on("onboarding-shippo-popup",(function(e){n()})),e(document).on("yith-shippo-update-connection-button",o),e(document).on("click",".yith-shippo-disconnect-account",(function(e){e.preventDefault(),yith.ui.confirm({title:yith_shippo_admin_params.disconnect_popup.title,message:yith_shippo_admin_params.disconnect_popup.message,confirmButtonType:"delete",confirmButton:yith_shippo_admin_params.disconnect_popup.button,onConfirm:function(){o({detail:{connected:!1}})}})}))}));