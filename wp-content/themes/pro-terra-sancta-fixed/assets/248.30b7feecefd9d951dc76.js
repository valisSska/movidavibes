"use strict";(self.webpackChunkpro_terra_sancta_fixed=self.webpackChunkpro_terra_sancta_fixed||[]).push([[248],{3248:function(e,t,n){n.r(t);var r=n(7294),a=n(4665),c=n.n(a);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return c}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){var t=0;switch(e.project&&e.project[0]&&e.project[0].term_id&&(t=e.project[0].term_id),t){case 9830:case 9749:case 9442:case 9832:case 9836:return"#374856";case 9750:case 9443:case 9829:case 9835:case 9833:return"#E26E0E";case 9741:case 9441:case 9831:case 9837:case 9834:return"#D31418";default:return"#506679"}},m=function(e,t,n,r,a,c,o,i){c(!0),function(e,t,n,r){var a=n&&"-1"!==n?"&categories=".concat(n):"",c=r&&"-1"!==r?"&post_type=".concat(r):"";return fetch("/wp-json/proterrasancta-api/v1/posts?per_page=".concat(6,"&offset=").concat(e).concat(c).concat(a,"&lang=").concat(window.language)).then((function(e){return e.json()}),(function(e){throw new TypeError(e)})).then((function(e){return e})).catch((function(e){return console.log("error: ".concat(e)),[]}))}(6*e,0,n,o).then((function(n){if(n.length>0){var o=l(r);o.push.apply(o,l(n)),a(o),t(e+1),c(!1)}n.length<6&&i(!1)}))};t.default=function(e){var t=e.cat,n=e.postType,a=o((0,r.useState)([]),2),l=a[0],i=a[1],s=o((0,r.useState)(0),2),p=s[0],f=s[1],d=o((0,r.useState)(!1),2),y=d[0],h=d[1],g=o((0,r.useState)(!0),2),b=g[0],v=g[1];return(0,r.useEffect)((function(){m(p,f,t,l,i,h,n,v)}),[]),r.createElement(r.Fragment,null,l&&l.length>0?r.createElement(r.Fragment,null,r.createElement("div",{className:"container"},r.createElement("div",{className:"row",style:{position:"relative"}},l.map((function(e,t){return r.createElement(c(),{key:e.id,in:!0,duration:1500,appear:!0,onEntering:{translateY:[100,0],opacity:[0,1],delay:t%6*100,easing:"easeOutElastic(2, .5)"}},r.createElement("div",{key:e.id,className:"col-12 col-sm-6 col-lg-4 news-column",style:{opacity:0}},r.createElement("div",{style:{backgroundColor:u(e),height:"445px"}},r.createElement("a",{href:e.link},r.createElement("img",{height:"225",width:"410",src:e["image-thumb"],alt:e["image-thumb"],loading:"lazy",style:{height:"225px",width:"100%",objectFit:"cover"}}),r.createElement("div",{className:"news-teaser-date pt-4 px-4"},e.date,r.createElement("span",{className:"news-teaser-tag ps-1"},function(e){return e.project&&e.project[0]&&e.project[0].name?e.project[0].name:""}(e))),r.createElement("div",{className:"news-teaser-title px-4 pb-4",dangerouslySetInnerHTML:{__html:"".concat(e.title)}})))))})),b&&r.createElement("div",{className:"col-12 pt-4 pb-4 mb-2 d-flex"},r.createElement("button",{className:"btn btn-primary m-auto",style:{display:y?"none":"block"},onClick:function(){return m(p,f,t,l,i,h,n,v)}},"Guarda altre campagne")),r.createElement("div",{className:"col-12 py-4",style:{display:y?"flex":"none"}},r.createElement("div",{className:"spinner-border text-primary m-auto",role:"status"},r.createElement("span",{className:"sr-only"},"Loading...")))))):r.createElement("div",{className:"loading"}))}}}]);