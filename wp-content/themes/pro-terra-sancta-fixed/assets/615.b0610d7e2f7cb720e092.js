"use strict";(self.webpackChunkpro_terra_sancta_fixed=self.webpackChunkpro_terra_sancta_fixed||[]).push([[615],{615:function(e,t,n){n.r(t);var a=n(7294),o=n(8966),c=n.n(o),r=n(5021),i=n(6664),s=n(4465),l=n(9490),m=n(6131),d=n(7494);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t,n,a,o,c,r){try{var i=e[c](r),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var c=e.apply(t,n);function r(e){g(c,a,o,r,i,"next",e)}function i(e){g(c,a,o,r,i,"throw",e)}r(void 0)}))}}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,o,c=[],r=!0,i=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(i)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var y=function(e){(0,a.useEffect)((function(){var t=document.createElement("script");t.src=e,t.async=!0,document.body.append(t)}),[e])},v=function(e){var t=e.campaignTag,n=e.env,o=e.setStep,c=e.icon1,r=e.icon2,i=e.icon3,s=e.ask1,l=e.ask1Text,d=e.ask2,u=e.ask2Text,g=e.ask3,p=e.ask3Text,f=e.mainSelection,y=e.mainSelectionRegular,v=e.mainSingleDonation,h=e.mainDonation,E=e.mainAskText,b=e.mainIcon,N=e.setMainSelection,x=e.setMainSelectionRegular,S=e.setMainSingleDonation,k=e.setMainDonation,T=e.setMainAsk,_=e.setMainIcon,C=e.formType,D=w((0,a.useState)(b),2),I=D[0],j=D[1],M=w((0,a.useState)(v),2),P=M[0],F=M[1],R=w((0,a.useState)(f),2),U=R[0],K=R[1],O=w((0,a.useState)(y),2),A=O[0],B=O[1],q=w((0,a.useState)(h),2),L=q[0],H=q[1],J=w((0,a.useState)(new Intl.NumberFormat(window.language,{minimumFractionDigits:2}).format(h)),2),z=J[0],$=J[1],V=w((0,a.useState)(E),2),W=V[0],Y=V[1];(0,a.useEffect)((function(){"recurring"===C&&(F(!1),S(!1))}),[]);var Q=function(e){switch(e){case 1:$(new Intl.NumberFormat(window.language,{minimumFractionDigits:2}).format(s)),k(s),Y(l),T(l),j(c),_(c);break;case 2:$(new Intl.NumberFormat(window.language,{minimumFractionDigits:2}).format(d)),k(d),Y(u),T(u),j(r),_(r);break;case 3:$(new Intl.NumberFormat(window.language,{minimumFractionDigits:2}).format(g)),k(g),Y(p),T(p),j(i),_(i)}K(e),N(e)},X=function(e){B(e),x(e)};return a.createElement(a.Fragment,null,a.createElement("div",{className:"donate-menu row gx-0"},"recurring"!==C&&a.createElement(a.Fragment,null,a.createElement("div",{className:"col-6",onClick:function(){F(!0),S(!0)}},a.createElement("span",{className:"text-menu ".concat(P?"selected":"")},m[window.language].single)),a.createElement("div",{className:"text-menu ".concat("recurring"!==C?"col-6":"col-12"),onClick:function(){F(!1),S(!1)}},a.createElement("span",{className:"text-menu ".concat(P?"":"selected")},m[window.language].monthly))),"recurring"===C&&a.createElement("div",{className:"text-menu ".concat("recurring"!==C?"col-6":"col-12"),onClick:function(){F(!1),S(!1)}},a.createElement("span",{className:"text-menu ".concat(P?"":"selected")},m[window.language].monthlyRegular))),"in-memory"!==C&&a.createElement("div",{className:"donate-selected row gx-0"},a.createElement("div",{className:"col-4"},a.createElement("div",{className:"icon-container m-auto d-flex"},a.createElement("div",{className:"m-auto"},a.createElement("img",{className:"donate-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/".concat(I,".svg"),alt:"icon-campaign"}),a.createElement("div",{className:"divider"})))),a.createElement("div",{className:"col-8 text-container row align-items-center"},a.createElement("div",null,a.createElement("div",{className:"icon-title"},m[window.language].give),a.createElement("div",{className:"icon-price"},z,"en"===window.language?"$":"€"),a.createElement("div",{className:"icon-ask"},W)))),"in-memory"===C&&a.createElement("div",{className:"donate-selected row gx-0"},a.createElement("div",{className:"col-4"},a.createElement("div",{className:"icon-container m-auto d-flex"},a.createElement("div",{className:"m-auto"},a.createElement("img",{className:"donate-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/pray.png",alt:"icon-campaign"}),a.createElement("div",{className:"divider"})))),a.createElement("div",{className:"col-8 text-container row align-items-center"},a.createElement("div",null,a.createElement("div",{className:"icon-title"},m[window.language].give),a.createElement("div",{className:"icon-price"},z,"en"===window.language?"$":"€"),a.createElement("div",{className:"icon-ask"},m[window.language].giveMemory)))),!P&&a.createElement("div",{className:"donate-select row gx-0 justify-content-center"},a.createElement("div",{className:"col option-container"},a.createElement("button",{type:"button",className:"btn btn-options-blue btn-rounded btn-block btn-blue ".concat(1===A?"selected":""),onClick:function(){return X(1)}},m[window.language].selectMonthly)),a.createElement("div",{className:"col option-container"},a.createElement("button",{type:"button",className:"btn btn-options-blue btn-rounded btn-block btn-blue ".concat(2===A?"selected":""),onClick:function(){return X(2)}},m[window.language].selectQuarterly))),a.createElement("div",{className:"donate-select row gx-0 justify-content-center"},a.createElement("div",{className:"col option-container"},a.createElement("button",{type:"button",className:"btn btn-options btn-rounded btn-block btn-primary ".concat(1===U?"selected":""),onClick:function(){return Q(1)}},new Intl.NumberFormat(window.language,{minimumFractionDigits:2}).format(s),"en"===window.language?"$":"€")),a.createElement("div",{className:"col option-container"},a.createElement("button",{type:"button",className:"btn btn-options btn-rounded btn-block btn-primary ".concat(2===U?"selected":""),onClick:function(){return Q(2)}},new Intl.NumberFormat(window.language,{minimumFractionDigits:2}).format(d),"en"===window.language?"$":"€")),a.createElement("div",{className:"col option-container"},a.createElement("button",{type:"button",className:"btn btn-options btn-rounded btn-block btn-primary ".concat(3===U?"selected":""),onClick:function(){return Q(3)}},new Intl.NumberFormat(window.language,{minimumFractionDigits:2}).format(g),"en"===window.language?"$":"€"))),a.createElement("div",{className:"donate-input row gx-0 justify-content-center"},a.createElement("div",{className:"col option-container"},a.createElement("div",{className:"input-container selected"},a.createElement("div",{className:"md-form"},a.createElement("i",{className:"fas input-prefix font-weight-bold ".concat("en"===window.language?"fa-dollar-sign":"fa-euro-sign")}),a.createElement("input",{type:"number",id:"reddito",min:"5",step:"1",className:"form-control font-weight-bold with-icon",placeholder:m[window.language].selectAmount,onChange:function(e){H(e.target.value),$(new Intl.NumberFormat(window.language,{minimumFractionDigits:2}).format(e.target.value)),k(e.target.value),K(4),N(4),Y(m[window.language].customAmount),T(m[window.language].customAmount),j("custom-amount"),_("custom-amount")}}))))),a.createElement("div",{className:"donate-btn row gx-0 justify-content-center"},a.createElement("div",{className:"col option-container"},a.createElement("button",{type:"button",className:"btn btn-donate btn-rounded btn-block btn-primary",onClick:function(){return e=L,("string"==typeof L||L instanceof String)&&(e=Number.parseFloat(L)),void("prod"===n&&e<5?Swal.fire({title:m[window.language].warningError,text:m[window.language].minDonation,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#b91521"}):("undefined"!=typeof gtag&&gtag("event","add_to_cart",{currency:"en"===window.language?"USD":"EUR",value:L,items:[{id:t,name:t,quantity:1,price:L}]}),o("personal-data")));var e}},m[window.language].donate))),a.createElement("div",{className:"donate-input row gx-0 justify-content-center"},a.createElement("div",{className:"col option-container"},a.createElement("div",{className:"notes-text",dangerouslySetInnerHTML:{__html:m[window.language].privacyText}}))),a.createElement("div",{className:"donate-cards row gx-0 justify-content-center"},a.createElement("div",{className:"col option-container"},a.createElement("div",{className:"card-container"},a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/cards/amex.svg",alt:"amex"}),a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/cards/maestro.svg",alt:"maestro"}),a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/cards/mastercard.svg",alt:"mastercard"}),a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/cards/visa.svg",alt:"visa"}),a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/cards/paypal.png",alt:"paypal"}),a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/logo-satispay.svg",alt:"icon"})))))},h=function(e){var t=e.index,n=e.setStep,o=e.icon,r=e.donation,i=e.askText,s=e.singleDonation,l=e.selectionRegular,u=e.campaignTag,g=e.mainSurname,f=e.mainName,v=e.mainEmail,h=e.mainAddress,E=e.mainMemoryPerson,b=e.setMainSurname,N=e.setMainName,x=e.setMainEmail,S=e.setMainAddress,k=e.setMainMemoryPerson,T=e.setMainNewsletter,_=e.env,C=e.setIdDirectChannel,D=e.paypalKey,I=e.stripeKey,j=e.setPaypalPlanID,M=e.formType,P=w((0,a.useState)(f),2),F=P[0],R=P[1],U=w((0,a.useState)(g),2),K=U[0],O=U[1],A=w((0,a.useState)(h),2),B=A[0],q=A[1],L=w((0,a.useState)(E),2),H=L[0],J=L[1],z=w((0,a.useState)(v),2),$=z[0],V=z[1],W=w((0,a.useState)(!1),2),Y=W[0],Q=W[1],X=w((0,a.useState)(!1),2),Z=X[0],G=X[1],ee=w((0,a.useState)(u),1)[0],te=w((0,a.useState)(!1),2),ne=te[0],ae=te[1];return(0,a.useEffect)((function(){document.querySelector("#modal-place-".concat(t)).scrollIntoView({behavior:"smooth",block:"center"})}),[]),"in-memory"===M&&(window.initMap=function(){var e=new google.maps.places.Autocomplete(document.querySelector("#memory_ad"),{types:["geocode"]});e.setFields(["geometry","address_components"]),e.addListener("place_changed",(function(){var t=e.getPlace(),n=t.address_components.find((function(e){return e.types&&e.types.length>0&&"street_number"===e.types[0]})),a=t.address_components.find((function(e){return e.types&&e.types.length>0&&"route"===e.types[0]})),o=t.address_components.find((function(e){return e.types&&e.types.length>0&&"locality"===e.types[0]})),c=t.address_components.find((function(e){return e.types&&e.types.length>0&&"country"===e.types[0]})),r=t.address_components.find((function(e){return e.types&&e.types.length>0&&"postal_code"===e.types[0]}));q("".concat(a.long_name," ").concat(n.long_name," ").concat(o.long_name," ").concat(c.long_name," ").concat(r.long_name)),S("".concat(a.long_name," ").concat(n.long_name," ").concat(o.long_name," ").concat(c.long_name," ").concat(r.long_name)),console.log("".concat(n.long_name," ").concat(a.long_name," ").concat(o.long_name," ").concat(c.long_name," ").concat(r.long_name)),console.log(t)}))},y("https://maps.googleapis.com/maps/api/js?key=AIzaSyAzShHNzNBSmSFnek_bSrHQTczX9xmzjv4&libraries=places&callback=initMap")),a.createElement(a.Fragment,null,a.createElement("div",{className:"donate-menu row gx-0"},a.createElement("i",{className:"fas fa-chevron-left arrow-back-button",onClick:function(){return n("donation")}}),"recurring"!==M&&a.createElement(a.Fragment,null,a.createElement("div",{className:"col-6"},a.createElement("span",{className:"text-menu ".concat(s?"selected":"")},m[window.language].single)),a.createElement("div",{className:"text-menu ".concat("recurring"!==M?"col-6":"col-12")},a.createElement("span",{className:"text-menu ".concat(s?"":"selected")},m[window.language].monthly))),"recurring"===M&&a.createElement("div",{className:"text-menu ".concat("recurring"!==M?"col-6":"col-12")},a.createElement("span",{className:"text-menu ".concat(s?"":"selected")},m[window.language].monthlyRegular))),"in-memory"!==M&&a.createElement("div",{className:"donate-selected row gx-0"},a.createElement("div",{className:"col-4"},a.createElement("div",{className:"icon-container m-auto d-flex"},a.createElement("div",{className:"m-auto"},a.createElement("img",{className:"donate-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/".concat(o,".svg"),alt:"icon-campaign"}),a.createElement("div",{className:"divider"})))),a.createElement("div",{className:"col-8 text-container row align-items-center"},a.createElement("div",null,a.createElement("div",{className:"icon-title"},m[window.language].give),a.createElement("div",{className:"icon-price"},new Intl.NumberFormat(window.language,{minimumFractionDigits:2}).format(r),"en"===window.language?"$":"€"),a.createElement("div",{className:"icon-ask"},i)))),a.createElement("div",{className:"donate-data row gx-0 justify-content-center"},a.createElement("div",{className:"col option-container"},a.createElement("div",{className:"input-container selected"},a.createElement("div",{className:"md-form"},a.createElement("input",{type:"text",id:"name",className:"form-control font-weight-bold",placeholder:m[window.language].name,value:F,onChange:function(e){R(e.target.value),N(e.target.value)}})))),a.createElement("div",{className:"col option-container"},a.createElement("div",{className:"input-container selected"},a.createElement("div",{className:"md-form"},a.createElement("input",{type:"text",id:"surname",className:"form-control font-weight-bold",placeholder:m[window.language].surname,value:K,onChange:function(e){O(e.target.value),b(e.target.value)}})))),a.createElement("div",{className:"col-12 option-container"},a.createElement("div",{className:"input-container selected"},a.createElement("div",{className:"md-form"},a.createElement("i",{className:"fas fa-envelope input-prefix font-weight-bold"}),a.createElement("input",{type:"email",id:"email",className:"form-control font-weight-bold with-icon",placeholder:"email",value:$,onChange:function(e){V(e.target.value),x(e.target.value)}})))),"in-memory"===M&&a.createElement("div",{className:"col-12 option-container"},a.createElement("div",{className:"input-container selected"},a.createElement("div",{className:"md-form"},a.createElement("input",{type:"text",id:"memory_ad",className:"form-control font-weight-bold",defaultValue:h,placeholder:m[window.language].address})))),"in-memory"===M&&a.createElement("div",{className:"col-12 option-container"},a.createElement("div",{className:"input-container selected"},a.createElement("div",{className:"md-form"},a.createElement("input",{type:"text",className:"form-control font-weight-bold",placeholder:m[window.language].memoryPerson,value:H,autoComplete:"off",onChange:function(e){J(e.target.value),k(e.target.value)}})))),a.createElement("div",{className:"col-12 option-container"},a.createElement("div",{className:"input-container selected"},a.createElement("div",{className:"form-check"},a.createElement("input",{className:"form-check-input",type:"checkbox",id:"privacyCheck1",onChange:function(e){G(e.target.checked),T(e.target.checked)}}),a.createElement("label",{className:"form-check-label notes-text",htmlFor:"privacyCheck1"},m[window.language]["newsletter-consent"]," ")))),a.createElement("div",{className:"col-12 option-container"},a.createElement("div",{className:"input-container selected"},a.createElement("div",{className:"form-check"},a.createElement("input",{className:"form-check-input",type:"checkbox",id:"privacyCheck",onChange:function(e){Q(e.target.checked)}}),a.createElement("label",{className:"form-check-label notes-text",htmlFor:"privacyCheck"},m[window.language]["privacy-consent"]," ",a.createElement("a",{href:"/".concat(window.language,"/privacy-policy/"),target:"_blank",rel:"noreferrer"},"privacy policy")))))),a.createElement("div",{className:"donate-btn row gx-0 justify-content-center"},a.createElement("div",{className:"col option-container"},ne?a.createElement("div",{className:"text-center"},a.createElement("div",{className:"spinner-border text-primary",style:{width:"3rem",height:"3rem"},role:"status"})):a.createElement("button",{type:"button",className:"btn btn-donate btn-rounded btn-block btn-primary",onClick:function(e){if(e.preventDefault(),F&&K&&$)if(c().isEmail($))if(Y)if("in-memory"!==M||B)if("in-memory"!==M||H){ae(!0);var t=new URLSearchParams(window.location.search),a=t.get("utm_campaign"),o=t.get("utm_source");grecaptcha.ready((function(){grecaptcha.execute("6LdxET4dAAAAAE4ZyQHdePjS0kCAzRdDPPXCJexw",{action:"submit"}).then(function(){var e=p(regeneratorRuntime.mark((function e(t){var c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pro.ip-api.com/json/?key=8CeI2UILnuHDUiB",{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 2:return u=e.sent,fetch("/wp-json/proterrasancta-api/v1/donor",{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,name:F,surname:K,email:$,privacy:Y,newsletter:Z,campaign:ee,utmSource:o,utmCampaign:a,env:_,singleDonation:s,selectionRegular:l,donation:r,askText:i,locale:window.language,paypalKey:D,stripeKey:I,formType:M,address:B,memoryPerson:H,countryCode:u.countryCode,codiceNazione:null===(c=d.U.find((function(e){var t;return e.CodiceISO===(null==u||null===(t=u.countryCode)||void 0===t?void 0:t.toUpperCase())})))||void 0===c?void 0:c.CodiceMentor,currency:"en"===window.language?"USD":"EUR"})}).then((function(e){return e.json()})).then((function(e){console.debug("fetch result"),console.debug(e),"false"!==e?(C(e.id_direct_channel),j(e.paypal_plan_id),ae(!1),n("pay-step")):(ae(!1),Swal.fire({title:m[window.language].warningError,text:m[window.language].errorRecaptcha,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#b91521"}))})).catch((function(e){console.debug("error: ".concat(e)),ae(!1),Swal.fire({title:m[window.language].warningError,text:m[window.language].errorNetwork,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#b91521"})})),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}else Swal.fire({title:m[window.language].warning,text:m[window.language].warningMemoryName,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#b91521"});else Swal.fire({title:m[window.language].warning,text:m[window.language].warningAddress,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#b91521"});else Swal.fire({title:m[window.language].warning,text:m[window.language].warningPrivacy,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#b91521"});else Swal.fire({title:m[window.language].warning,text:m[window.language].warningEmail,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#b91521"});else Swal.fire({title:m[window.language].warning,text:m[window.language].warningInsert,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#b91521"})}},m[window.language].donate))),a.createElement("div",{className:"donate-input row gx-0 justify-content-center"},a.createElement("div",{className:"col option-container"},a.createElement("div",{className:"notes-text",dangerouslySetInnerHTML:{__html:m[window.language].privacyText}}))),a.createElement("div",{className:"donate-cards row gx-0 justify-content-center"},a.createElement("div",{className:"col option-container"},a.createElement("div",{className:"card-container"},a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/cards/amex.svg",alt:"icon"}),a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/cards/maestro.svg",alt:"icon"}),a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/cards/mastercard.svg",alt:"icon"}),a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/cards/visa.svg",alt:"icon"}),a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/cards/paypal.png",alt:"icon"}),a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/logo-satispay.svg",alt:"icon"})))))},E=function(e){var t=e.setStep,n=e.campaignTag,o=e.mainSurname,r=e.mainName,i=e.mainEmail,s=e.setMainSurname,l=e.setMainName,u=e.setMainEmail,g=e.env,f=e.setIdDirectChannel,y=e.formType,v=w((0,a.useState)(r),2),h=v[0],E=v[1],b=w((0,a.useState)(o),2),N=b[0],x=b[1],S=w((0,a.useState)(i),2),k=S[0],T=S[1],_=w((0,a.useState)(""),2),C=_[0],D=_[1],I=w((0,a.useState)(!1),2),j=I[0],M=I[1],P=w((0,a.useState)(!0),2),F=P[0],R=(P[1],w((0,a.useState)(n),1)[0]),U=w((0,a.useState)(!1),2),K=U[0],O=U[1];return a.createElement(a.Fragment,null,a.createElement("div",{className:"donate-menu row gx-0"},a.createElement("div",{className:"text-menu col-12"},a.createElement("span",{className:"text-menu"}))),a.createElement("div",{className:"donate-data row gx-0 justify-content-center"},a.createElement("div",{className:"col option-container"},a.createElement("div",{className:"input-container selected"},a.createElement("div",{className:"md-form"},a.createElement("input",{type:"text",id:"name",className:"form-control font-weight-bold",placeholder:m[window.language].name,value:h,onChange:function(e){E(e.target.value),l(e.target.value)}})))),a.createElement("div",{className:"col option-container"},a.createElement("div",{className:"input-container selected"},a.createElement("div",{className:"md-form"},a.createElement("input",{type:"text",id:"surname",className:"form-control font-weight-bold",placeholder:m[window.language].surname,value:N,onChange:function(e){x(e.target.value),s(e.target.value)}})))),a.createElement("div",{className:"col-12 option-container"},a.createElement("div",{className:"input-container selected"},a.createElement("div",{className:"md-form"},a.createElement("i",{className:"fas fa-envelope input-prefix font-weight-bold"}),a.createElement("input",{type:"email",id:"email",className:"form-control font-weight-bold with-icon",placeholder:"email",value:k,onChange:function(e){T(e.target.value),u(e.target.value)}})))),"newsletter-message"===y&&a.createElement("div",{className:"col-12 option-container"},a.createElement("div",{className:"input-container selected"},a.createElement("div",{className:"md-form"},a.createElement("textarea",{id:"message",className:"form-control font-weight-bold with-icon",placeholder:m[window.language].message,value:C,rows:"4",onChange:function(e){D(e.target.value)}})))),a.createElement("div",{className:"col-12 option-container"},a.createElement("div",{className:"input-container selected"},a.createElement("div",{className:"form-check"},a.createElement("input",{className:"form-check-input",type:"checkbox",id:"privacyCheck",onChange:function(e){M(e.target.checked)}}),a.createElement("label",{className:"form-check-label notes-text",htmlFor:"privacyCheck"},m[window.language]["privacy-consent"]," ",a.createElement("a",{href:"/".concat(window.language,"/privacy-policy/"),target:"_blank",rel:"noreferrer"},"privacy policy")))))),a.createElement("div",{className:"donate-btn row gx-0 justify-content-center"},a.createElement("div",{className:"col option-container"},K?a.createElement("div",{className:"text-center"},a.createElement("div",{className:"spinner-border text-primary",style:{width:"3rem",height:"3rem"},role:"status"})):a.createElement("button",{type:"button",className:"btn btn-donate btn-rounded btn-block btn-primary",onClick:function(e){if(e.preventDefault(),h&&N&&k)if(c().isEmail(k))if(j){O(!0);var n=new URLSearchParams(window.location.search),a=n.get("utm_campaign"),o=n.get("utm_source");grecaptcha.ready((function(){grecaptcha.execute("6LdxET4dAAAAAE4ZyQHdePjS0kCAzRdDPPXCJexw",{action:"submit"}).then(function(){var e=p(regeneratorRuntime.mark((function e(n){var c,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pro.ip-api.com/json/?key=8CeI2UILnuHDUiB",{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 2:return r=e.sent,console.log("ipLocation"),console.log(r),fetch("/wp-json/proterrasancta-api/v1/donor-newsletter",{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n,name:h,surname:N,email:k,privacy:j,newsletter:F,campaign:R,utmSource:o,utmCampaign:a,env:g,message:C,formType:y,locale:window.language,countryCode:r.countryCode,codiceNazione:null===(c=d.U.find((function(e){var t;return e.CodiceISO===(null==r||null===(t=r.countryCode)||void 0===t?void 0:t.toUpperCase())})))||void 0===c?void 0:c.CodiceMentor})}).then((function(e){return e.json()})).then((function(e){console.debug("fetch result"),console.debug(e),"false"!==e?(f(e.id_direct_channel),O(!1),t("thankyou-page-newsletter")):(O(!1),Swal.fire({title:m[window.language].warningError,text:m[window.language].errorRecaptcha,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#b91521"}))})).catch((function(e){console.debug("error: ".concat(e)),O(!1),Swal.fire({title:m[window.language].warningError,text:m[window.language].errorNetwork,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#b91521"})})),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}else Swal.fire({title:m[window.language].warning,text:m[window.language].warningPrivacy,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#b91521"});else Swal.fire({title:m[window.language].warning,text:m[window.language].warningEmail,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#b91521"});else Swal.fire({title:m[window.language].warning,text:m[window.language].warningInsert,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#b91521"})}},m[window.language].saveData))),a.createElement("div",{className:"donate-input row gx-0 justify-content-center"},a.createElement("div",{className:"col option-container"},a.createElement("div",{className:"notes-text",dangerouslySetInnerHTML:{__html:m[window.language].privacyText}}))))},b=function(e){var t=e.setStep,n=e.donation,o=e.askText,c=e.singleDonation,r=e.campaignTag,s=e.name,d=e.surname,g=e.email,f=e.idDirectChannel,y=e.subscriptionId,v=e.env,h=e.formType,E=e.newsletter,b=e.paypalKey,N=e.stripeKey,x=e.customerId,S=w((0,a.useState)(!1),2),k=S[0],T=S[1],_=(0,i.useStripe)(),C=(0,i.useElements)(),D=function(){var e=p(regeneratorRuntime.mark((function e(a){var i,p,w,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),console.debug("handleSubmit"),console.debug(a),_&&C){e.next=5;break}return e.abrupt("return");case 5:return T(!0),e.next=8,_.confirmPayment({elements:C,confirmParams:{return_url:"http://localhost:7575/it/"},redirect:"if_required"});case 8:(i=e.sent).error?(console.debug(i.error.message),T(!1),Swal.fire({title:m[window.language].warningError,text:i.error.message,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#b91521"})):(console.debug("stripe.confirmPayment result"),console.debug(i),p=new URLSearchParams(window.location.search),w=p.get("utm_campaign"),S=p.get("utm_source"),void 0!==("undefined"==typeof gtag?"undefined":u(gtag))&&gtag("event","purchase",{transaction_id:i.paymentIntent.id,value:n,currency:i.paymentIntent.currency.toUpperCase(),items:[{id:r,name:r,quantity:1,price:n}]}),void 0!==("undefined"==typeof fbq?"undefined":u(fbq))&&fbq("track","Purchase",{currency:i.paymentIntent.currency.toUpperCase(),value:n}),fetch("/wp-json/proterrasancta-api/v1/donation",{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s,surname:d,email:g,idDirectChannel:f,campaign:r,ask:o,utmSource:S,utmCampaign:w,payment_method:"stripe",payment_id:i.paymentIntent.id,payment_email:"",merchant_id:"",currency:i.paymentIntent.currency.toUpperCase(),address:"",city:"",country:"",postal_code:"",donation:n,donationText:"".concat(new Intl.NumberFormat(window.language,{minimumFractionDigits:2}).format(n)).concat("en"===window.language?"$":"€"),monthly:!c,monthlyText:c?m[window.language].single:m[window.language].monthly,subscription_id:y,order_time:l.ou.fromSeconds(i.paymentIntent.created).toISO(),locale:window.language,env:v,formType:h,newsletter:E,paypalKey:b,stripeKey:N,customerId:x,paymentMethodId:i.paymentIntent.payment_method})}).then((function(){T(!1),t("thankyou-page")})).catch((function(e){console.debug("error: ".concat(e)),T(!1),Swal.fire({title:m[window.language].warningError,text:m[window.language].errorNetwork,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#b91521"})})));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.createElement("form",{onSubmit:D},a.createElement(i.PaymentElement,null),k?a.createElement("div",{className:"text-center mt-3"},a.createElement("div",{className:"spinner-border text-primary",style:{width:"3rem",height:"3rem"},role:"status"})):a.createElement("button",{className:"btn btn-donate btn-rounded btn-block btn-primary mt-3"},m[window.language].donate))},N=function(e){var t=e.index,n=e.setStep,o=e.icon,c=e.donation,d=e.askText,g=e.singleDonation,p=e.campaignTag,f=e.name,v=e.surname,h=e.email,E=e.paypalKey,N=e.stripeKey,x=e.idDirectChannel,S=e.paypalPlanID,k=e.env,T=e.formType,_=e.newsletter,C=e.selectionRegular,D=w((0,a.useState)(1),2),I=D[0],j=D[1],M=w((0,a.useState)(),2),P=M[0],F=M[1],R=w((0,a.useState)(),2),U=R[0],K=R[1],O=w((0,a.useState)(),2),A=O[0],B=O[1],q=w((0,a.useState)(""),2),L=q[0],H=q[1],J=w((0,a.useState)(!1),2),z=J[0],$=J[1],V=w((0,a.useState)(),2),W=V[0],Y=V[1];y("https://online.satispay.com/web-button.js"),(0,a.useEffect)((function(){document.querySelector("#modal-place-".concat(t)).scrollIntoView({behavior:"smooth",block:"center"})}),[]);var Q=function(e){if(j(e),3===e){console.debug("satispay: init ");var t=SatispayWebButton.configure({paymentId:W,completed:function(e){console.debug("satispay: completed "),console.debug(e),$(!0);var t=new URLSearchParams(window.location.search),a=t.get("utm_campaign"),o=t.get("utm_source");"undefined"!=typeof gtag&&gtag("event","purchase",{transaction_id:W,value:c,currency:"EUR",items:[{id:p,name:p,quantity:1,price:c}]}),void 0!==("undefined"==typeof fbq?"undefined":u(fbq))&&fbq("track","Purchase",{currency:"EUR",value:c}),fetch("/wp-json/proterrasancta-api/v1/donation",{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:f,surname:v,email:h,idDirectChannel:x,campaign:p,ask:d,utmSource:o,utmCampaign:a,payment_method:"satispay",payment_id:W,payment_email:h,merchant_id:"",currency:"EUR",address:"",city:"",country:"IT",postal_code:"",donation:c,donationText:"".concat(new Intl.NumberFormat(window.language,{minimumFractionDigits:2}).format(c),"€"),monthly:!1,monthlyText:g?m[window.language].single:m[window.language].monthly,order_time:new Date,locale:window.language,env:k,formType:T,newsletter:_,paypalKey:E,stripeKey:N})}).then((function(e){$(!1),n("thankyou-page")})).catch((function(e){$(!1),console.debug("error: ".concat(e)),Swal.fire({title:m[window.language].warningError,text:m[window.language].errorNetwork,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#b91521"})}))}});document.querySelector("#pay-with-satispay").addEventListener("click",(function(e){e.preventDefault(),console.debug("satispay: open"),t.open()}))}};return(0,a.useEffect)((function(){var e=(0,s.J)(N);B(e),g?fetch("/wp-json/proterrasancta-api/v1/create-stripe-payment",{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:c,key:N,env:k,currency:"en"===window.language?"USD":"EUR"})}).then((function(e){return e.json()})).then((function(e){F(e.clientSecret),console.debug(e),console.debug(e.clientSecret)})).catch((function(e){console.debug("error: ".concat(e)),Swal.fire({title:m[window.language].warningError,text:m[window.language].errorNetwork,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#b91521"})})):fetch("/wp-json/proterrasancta-api/v1/create-stripe-subscription",{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({donation:c,askText:d,selectionRegular:C,email:h,key:N,env:k,currency:"en"===window.language?"USD":"EUR"})}).then((function(e){return e.json()})).then((function(e){H(e.subscriptionId),F(e.clientSecret),K(e.customerId),console.debug(e),console.debug(e.clientSecret)})).catch((function(e){console.debug("error: ".concat(e)),Swal.fire({title:m[window.language].warningError,text:m[window.language].errorNetwork,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#b91521"})})),fetch("/wp-json/proterrasancta-api/v1/create-satispay-payment",{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:100*Number.parseFloat(c),env:"prod",currency:"EUR"})}).then((function(e){return e.json()})).then((function(e){console.debug(e),Y(e.id)})).catch((function(e){console.debug("error: ".concat(e)),Swal.fire({title:m[window.language].warningError,text:m[window.language].errorNetwork,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#b91521"})}))}),[]),a.createElement(a.Fragment,null,a.createElement("div",{className:"donate-menu row gx-0"},a.createElement("i",{className:"fas fa-chevron-left arrow-back-button",onClick:function(){return n("personal-data")}}),"recurring"!==T&&a.createElement(a.Fragment,null,a.createElement("div",{className:"col-6"},a.createElement("span",{className:"text-menu ".concat(g?"selected":"")},m[window.language].single)),a.createElement("div",{className:"text-menu ".concat("recurring"!==T?"col-6":"col-12")},a.createElement("span",{className:"text-menu ".concat(g?"":"selected")},m[window.language].monthly))),"recurring"===T&&a.createElement("div",{className:"text-menu ".concat("recurring"!==T?"col-6":"col-12")},a.createElement("span",{className:"text-menu ".concat(g?"":"selected")},m[window.language].monthlyRegular))),"in-memory"!==T&&a.createElement("div",{className:"donate-selected row gx-0"},a.createElement("div",{className:"col-4"},a.createElement("div",{className:"icon-container m-auto d-flex"},a.createElement("div",{className:"m-auto"},a.createElement("img",{className:"donate-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/".concat(o,".svg"),alt:"icon-campaign"}),a.createElement("div",{className:"divider"})))),a.createElement("div",{className:"col-8 text-container row align-items-center"},a.createElement("div",null,a.createElement("div",{className:"icon-title"},m[window.language].give),a.createElement("div",{className:"icon-price"},new Intl.NumberFormat(window.language,{minimumFractionDigits:2}).format(c),"en"===window.language?"$":"€"),a.createElement("div",{className:"icon-ask"},d)))),a.createElement("div",{className:"donate-select row gx-0 justify-content-center"},a.createElement("div",{className:"".concat(g?"col-4":"col-6"," option-container")},a.createElement("button",{type:"button",className:"btn btn-options btn-rounded btn-block btn-primary ".concat(1===I?"selected":""),onClick:function(){return Q(1)},style:{minWidth:"unset"}},a.createElement("div",null,m[window.language].paypal),a.createElement("img",{className:"card-icon-button",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/cards/paypal.png",alt:"icon"}))),a.createElement("div",{className:"".concat(g?"col-4":"col-6"," option-container")},a.createElement("button",{type:"button",className:"btn btn-options btn-rounded btn-block btn-primary ".concat(2===I?"selected":""),onClick:function(){return Q(2)},style:{minWidth:"unset"}},a.createElement("div",null,m[window.language].cards),a.createElement("img",{className:"card-icon-button",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/cards/cards.png",alt:"icon"}))),a.createElement("div",{className:"".concat(g?"col-4":"d-none"," option-container")},a.createElement("button",{type:"button",className:"btn btn-options btn-rounded btn-block btn-primary ".concat(3===I?"selected":""),onClick:function(){return Q(3)},style:{minWidth:"unset"}},a.createElement("div",null,m[window.language].satispay),a.createElement("img",{className:"card-icon-button",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/".concat(3===I?"logo-satispay.svg":"logo-satispay-negative.svg"),alt:"icon"})))),a.createElement("div",{className:"donate-btn row gx-0 justify-content-center ".concat(3!==I?"d-none":"")},a.createElement("div",{className:"col option-container d-flex"},a.createElement("img",{src:"https://staging.online.satispay.com/images/en-pay-red.svg",alt:"Pay with Satispay",id:"pay-with-satispay",style:{maxWidth:"300px",cursor:"pointer",margin:"auto"}}))),a.createElement("div",{className:"donate-btn row gx-0 justify-content-center ".concat(1!==I?"d-none":"")},a.createElement("div",{className:"col option-container"},a.createElement(r.Vv,{options:{"client-id":E,currency:"en"===window.language?"USD":"EUR",vault:!g,intent:g?"capture":"subscription"}},a.createElement(r.ch,{showSpinner:!0,disabled:z,style:{layout:"horizontal",color:"gold",shape:"pill",label:"paypal",tagline:!1},createOrder:g?function(e,t){return t.order.create({purchase_units:[{amount:{currency_code:"en"===window.language?"USD":"EUR",value:c,breakdown:{item_total:{currency_code:"en"===window.language?"USD":"EUR",value:c}}},items:[{name:p,description:d,quantity:1,unit_amount:{currency_code:"en"===window.language?"USD":"EUR",value:c}}]}]}).then((function(e){return console.debug("createOrder"),console.debug(e),e}))}:void 0,createSubscription:g?void 0:function(e,t){return t.subscription.create({plan_id:S}).then((function(e){return console.debug("createSubscription"),console.debug(e),e}))},onApprove:function(e,t){var a=new URLSearchParams(window.location.search),o=a.get("utm_campaign"),r=a.get("utm_source");if($(!0),g)return t.order.capture().then((function(e){console.debug("onApprove"),console.debug(e),"undefined"!=typeof gtag&&gtag("event","purchase",{transaction_id:e.id,value:c,currency:e.purchase_units[0].amount.currency_code,items:[{id:p,name:p,quantity:1,price:c}]}),void 0!==("undefined"==typeof fbq?"undefined":u(fbq))&&fbq("track","Purchase",{currency:e.purchase_units[0].amount.currency_code,value:c}),fetch("/wp-json/proterrasancta-api/v1/donation",{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:f,surname:v,email:h,idDirectChannel:x,campaign:p,ask:d,utmSource:r,utmCampaign:o,selectionRegular:C,payment_method:"paypal",payment_id:e.id,payment_email:e.payer.email_address,merchant_id:e.purchase_units[0].payee.merchant_id,currency:e.purchase_units[0].amount.currency_code,address:e.purchase_units[0].shipping.address.address_line_1,city:e.purchase_units[0].shipping.address.admin_area_1,country:e.purchase_units[0].shipping.address.country_code,postal_code:e.purchase_units[0].shipping.address.postal_code,donation:c,donationText:"".concat(new Intl.NumberFormat(window.language,{minimumFractionDigits:2}).format(c)).concat("en"===window.language?"$":"€"),monthly:!1,monthlyText:g?m[window.language].single:m[window.language].monthly,order_time:e.update_time,locale:window.language,env:k,formType:T,newsletter:_,paypalKey:E,stripeKey:N})}).then((function(e){$(!1),n("thankyou-page")})).catch((function(e){$(!1),console.debug("error: ".concat(e)),Swal.fire({title:m[window.language].warningError,text:m[window.language].errorNetwork,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#b91521"})}))}));console.debug("onApprove"),console.debug(e),"undefined"!=typeof gtag&&gtag("event","purchase",{transaction_id:e.orderID,value:c,currency:"en"===window.language?"USD":"EUR",items:[{id:p,name:p,quantity:1,price:c}]}),void 0!==("undefined"==typeof fbq?"undefined":u(fbq))&&fbq("track","Purchase",{currency:"en"===window.language?"USD":"EUR",value:c}),fetch("/wp-json/proterrasancta-api/v1/donation",{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:f,surname:v,email:h,idDirectChannel:x,campaign:p,ask:d,utmSource:r,utmCampaign:o,payment_method:"paypal",payment_id:e.orderID,donation:c,donationText:"".concat(new Intl.NumberFormat(window.language,{minimumFractionDigits:2}).format(c)).concat("en"===window.language?"$":"€"),subscription_id:e.subscriptionID,monthly:!0,monthlyText:g?m[window.language].single:m[window.language].monthly,order_time:l.ou.now().toISO(),locale:window.language,currency:"en"===window.language?"USD":"EUR",env:k,formType:T,newsletter:_,paypalKey:E,stripeKey:N})}).then((function(e){$(!1),n("thankyou-page")})).catch((function(e){$(!1),console.debug("error: ".concat(e)),Swal.fire({title:m[window.language].warningError,text:m[window.language].errorNetwork,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#b91521"})}))},onCancel:function(e){console.debug("onCancel"),console.debug(e)},onError:function(e){console.debug("onError"),console.debug(e)}})),z&&a.createElement("div",{className:"text-center"},a.createElement("div",{className:"spinner-border text-primary",style:{width:"3rem",height:"3rem"},role:"status"})))),a.createElement("div",{className:"donate-btn row gx-0 justify-content-center ".concat(2!==I?"d-none":"")},a.createElement("div",{className:"col option-container"},P&&a.createElement(i.Elements,{stripe:A,options:{clientSecret:P}},a.createElement(b,{setStep:n,singleDonation:g,donation:c,askText:d,name:f,surname:v,email:h,campaignTag:p,idDirectChannel:x,subscriptionId:L,env:k,formType:T,newsletter:_,paypalKey:E,stripeKey:N,customerId:U})))),a.createElement("div",{className:"donate-input row gx-0 justify-content-center"},a.createElement("div",{className:"col option-container"},a.createElement("div",{className:"notes-text",dangerouslySetInnerHTML:{__html:m[window.language].privacyText}}))),a.createElement("div",{className:"donate-cards row gx-0 justify-content-center"},a.createElement("div",{className:"col option-container"},a.createElement("div",{className:"card-container"},a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/cards/amex.svg",alt:"icon"}),a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/cards/maestro.svg",alt:"icon"}),a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/cards/mastercard.svg",alt:"icon"}),a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/cards/visa.svg",alt:"icon"}),a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/cards/paypal.png",alt:"icon"}),a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/logo-satispay.svg",alt:"icon"})))))},x=function(e){var t=e.index,n=e.singleDonation,o=e.thankYouUrl,c=e.formType;return(0,a.useEffect)((function(){document.querySelector("#modal-place-".concat(t)).scrollIntoView({behavior:"smooth",block:"center"})}),[]),o?(window.location.href=o,a.createElement(a.Fragment,null)):a.createElement(a.Fragment,null,a.createElement("div",{className:"donate-menu row gx-0"},"recurring"!==c&&a.createElement(a.Fragment,null,a.createElement("div",{className:"col-6"},a.createElement("span",{className:"text-menu ".concat(n?"selected":"")},m[window.language].single)),a.createElement("div",{className:"text-menu ".concat("recurring"!==c?"col-6":"col-12")},a.createElement("span",{className:"text-menu ".concat(n?"":"selected")},m[window.language].monthly))),"recurring"===c&&a.createElement("div",{className:"text-menu ".concat("recurring"!==c?"col-6":"col-12")},a.createElement("span",{className:"text-menu ".concat(n?"":"selected")},m[window.language].monthlyRegular))),a.createElement("div",{className:"donate-selected row gx-0"},a.createElement("div",{className:"col-12 text-container"},a.createElement("div",null,a.createElement("div",{className:"text-thanks"},m[window.language].thanks))),a.createElement("div",{className:"col-12 text-container"},a.createElement("div",null,a.createElement("div",{className:"text-thanks-summary"},m[window.language].thanksSummary)))),a.createElement("div",{className:"donate-btn row gx-0 justify-content-center "},a.createElement("div",{className:"col option-container"},a.createElement("button",{type:"button",className:"btn btn-donate btn-rounded btn-block btn-primary",onClick:function(){window.location.href="/"}},m[window.language]["go-to-site"]))),a.createElement("div",{className:"donate-input row gx-0 justify-content-center"},a.createElement("div",{className:"col option-container"},a.createElement("div",{className:"notes-text",dangerouslySetInnerHTML:{__html:m[window.language].privacyText}}))),a.createElement("div",{className:"donate-cards row gx-0 justify-content-center"},a.createElement("div",{className:"col option-container"},a.createElement("div",{className:"card-container"},a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/cards/amex.svg",alt:"icon"}),a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/cards/maestro.svg",alt:"icon"}),a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/cards/mastercard.svg",alt:"icon"}),a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/cards/visa.svg",alt:"icon"}),a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/cards/paypal.png",alt:"icon"}),a.createElement("img",{className:"card-icon",src:"/wp-content/themes/pro-terra-sancta-fixed/assets/images/logo-satispay.svg",alt:"icon"})))))},S=function(e){var t=e.thankYouUrl,n=e.index;return(0,a.useEffect)((function(){document.querySelector("#modal-place-".concat(n)).scrollIntoView({behavior:"smooth",block:"center"})}),[]),t?(window.location.href=t,a.createElement(a.Fragment,null)):a.createElement(a.Fragment,null,a.createElement("div",{className:"donate-menu row gx-0"},a.createElement("div",{className:"text-menu col-12"},a.createElement("span",{className:"text-menu"},m[window.language].newsletter))),a.createElement("div",{className:"donate-selected row gx-0"},a.createElement("div",{className:"col-12 text-container"},a.createElement("div",null,a.createElement("div",{className:"text-thanks"},m[window.language].thanksNewsletter))),a.createElement("div",{className:"col-12 text-container"},a.createElement("div",null,a.createElement("div",{className:"text-thanks-summary"},m[window.language].thanksSummaryNewsletter)))),a.createElement("div",{className:"donate-btn row gx-0 justify-content-center "},a.createElement("div",{className:"col option-container"},a.createElement("button",{type:"button",className:"btn btn-donate btn-rounded btn-block btn-primary",onClick:function(){window.location.href="/"}},m[window.language]["go-to-site"]))),a.createElement("div",{className:"donate-input row gx-0 justify-content-center"},a.createElement("div",{className:"col option-container"},a.createElement("div",{className:"notes-text",dangerouslySetInnerHTML:{__html:m[window.language].privacyText}}))))};t.default=function(e){var t=e.index,n=e.icon1,o=e.icon2,c=e.icon3,r=e.ask1,i=e.ask1Text,s=e.ask2,l=e.ask2Text,d=e.ask3,u=e.ask3Text,g=e.campaignTag,p=e.paypalKey,f=e.stripeKey,b=e.env,k=e.thankYouUrl,T=e.formType,_=e.formShape,C=w((0,a.useState)("donation"),2),D=C[0],I=C[1],j=w((0,a.useState)(n),2),M=j[0],P=j[1],F=w((0,a.useState)(1),2),R=F[0],U=F[1],K=w((0,a.useState)(1),2),O=K[0],A=K[1],B=w((0,a.useState)(!0),2),q=B[0],L=B[1],H=w((0,a.useState)(r),2),J=H[0],z=H[1],$=w((0,a.useState)(i),2),V=$[0],W=$[1],Y=w((0,a.useState)(""),2),Q=Y[0],X=Y[1],Z=w((0,a.useState)(!1),2),G=Z[0],ee=Z[1],te=w((0,a.useState)(""),2),ne=te[0],ae=te[1],oe=w((0,a.useState)(""),2),ce=oe[0],re=oe[1],ie=w((0,a.useState)(""),2),se=ie[0],le=ie[1],me=w((0,a.useState)(""),2),de=me[0],ue=me[1],ge=w((0,a.useState)(""),2),pe=ge[0],we=ge[1],fe=w((0,a.useState)(""),2),ye=fe[0],ve=fe[1];return y("https://www.google.com/recaptcha/api.js?render=6LdxET4dAAAAAE4ZyQHdePjS0kCAzRdDPPXCJexw"),"undefined"!=typeof gtag&&gtag("event","view_item",{currency:"en"===window.language?"USD":"EUR",value:J,items:[{id:g,name:g,quantity:1,price:J}]}),"button"===_?a.createElement(a.Fragment,null,a.createElement("button",{type:"button",className:"btn btn-donate-basic btn-rounded btn-block btn-primary","data-mdb-toggle":"modal","data-mdb-target":"#modal-form-".concat(t)},m[window.language].donate),a.createElement("div",{className:"modal fade",id:"modal-form-".concat(t),tabIndex:"-1","aria-labelledby":"modal-form-label","aria-hidden":"true"},a.createElement("div",{className:"modal-dialog"},a.createElement("div",{className:"modal-content",style:{maxWidth:"500px"}},a.createElement("div",{className:"d-flex"},a.createElement("i",{className:"fas fa-window-close ml-auto","data-mdb-dismiss":"modal","aria-label":"Close",style:{fontSize:"30px",color:"#D31418"}})),a.createElement("div",{className:"modal-body"},a.createElement(a.Fragment,null,"donation"===D&&a.createElement(v,{campaignTag:g,env:b,setStep:I,icon1:n,icon2:o,icon3:c,ask1:r,ask1Text:i,ask2:s,ask2Text:l,ask3:d,ask3Text:u,mainSelection:R,mainSelectionRegular:O,mainSingleDonation:!0,mainDonation:J,mainAskText:V,mainIcon:M,setMainSelection:U,setMainSelectionRegular:A,setMainSingleDonation:L,setMainDonation:z,setMainAsk:W,setMainIcon:P,formType:T}),"personal-data"===D&&a.createElement(h,{index:t,icon:M,setStep:I,singleDonation:q,selectionRegular:O,donation:J,askText:V,mainName:Q,mainSurname:ne,mainEmail:ce,mainAddress:se,mainMemoryPerson:de,setMainName:X,setMainSurname:ae,setMainEmail:re,setMainAddress:le,setMainMemoryPerson:ue,setMainNewsletter:ee,campaignTag:g,env:b,setIdDirectChannel:we,paypalKey:p,stripeKey:f,setPaypalPlanID:ve,formType:T}),"pay-step"===D&&a.createElement(N,{index:t,icon:M,setStep:I,singleDonation:q,selectionRegular:O,donation:J,askText:V,name:Q,surname:ne,email:ce,address:se,memoryPerson:de,campaignTag:g,paypalKey:p,stripeKey:f,idDirectChannel:pe,paypalPlanID:ye,env:b,formType:T,newsletter:G}),"thankyou-page"===D&&a.createElement(x,{index:t,icon:M,setStep:I,singleDonation:q,donation:J,askText:V,campaignTag:g,thankYouUrl:k,formType:T}))))))):"newsletter"===T||"newsletter-message"===T?a.createElement(a.Fragment,null,"donation"===D&&a.createElement(E,{index:t,setStep:I,mainName:Q,mainSurname:ne,mainEmail:ce,setMainName:X,setMainSurname:ae,setMainEmail:re,campaignTag:g,env:b,setIdDirectChannel:we,formType:T}),"thankyou-page-newsletter"===D&&a.createElement(S,{index:t,icon:M,setStep:I,singleDonation:q,donation:J,askText:V,campaignTag:g,thankYouUrl:k,formType:T})):a.createElement(a.Fragment,null,"donation"===D&&a.createElement(v,{campaignTag:g,env:b,index:t,setStep:I,icon1:n,icon2:o,icon3:c,ask1:r,ask1Text:i,ask2:s,ask2Text:l,ask3:d,ask3Text:u,mainSelection:R,mainSelectionRegular:O,mainSingleDonation:!0,mainDonation:J,mainAskText:V,mainIcon:M,setMainSelection:U,setMainSelectionRegular:A,setMainSingleDonation:L,setMainDonation:z,setMainAsk:W,setMainIcon:P,formType:T}),"personal-data"===D&&a.createElement(h,{index:t,icon:M,setStep:I,singleDonation:q,selectionRegular:O,donation:J,askText:V,mainName:Q,mainSurname:ne,mainEmail:ce,mainAddress:se,mainMemoryPerson:de,setMainName:X,setMainSurname:ae,setMainEmail:re,setMainAddress:le,setMainMemoryPerson:ue,setMainNewsletter:ee,campaignTag:g,env:b,setIdDirectChannel:we,paypalKey:p,stripeKey:f,setPaypalPlanID:ve,formType:T}),"pay-step"===D&&a.createElement(N,{index:t,icon:M,setStep:I,singleDonation:q,selectionRegular:O,donation:J,askText:V,name:Q,surname:ne,email:ce,address:se,memoryPerson:de,campaignTag:g,paypalKey:p,stripeKey:f,idDirectChannel:pe,paypalPlanID:ye,env:b,formType:T,newsletter:G}),"thankyou-page"===D&&a.createElement(x,{index:t,icon:M,setStep:I,singleDonation:q,donation:J,askText:V,campaignTag:g,thankYouUrl:k,formType:T}))}}}]);